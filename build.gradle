/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'yelinaung' at '7/10/15 12:18 AM' with Gradle 2.4
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.4/userguide/tutorial_java_projects.html
 */

buildscript {
  repositories {
    jcenter()
  }
}

plugins {
  id "com.jfrog.bintray" version "1.2"
}

allprojects {

  repositories {
    jcenter()
  }
  apply plugin: 'maven'
  apply plugin: 'maven-publish'
  apply plugin: 'java'
}

group = 'org.rabbit-converter.Rabbit'
version = '0.0.1'

// In this section you declare the dependencies for your production and test code
dependencies {
  // The production code uses the SLF4J logging API at compile time
  compile 'org.slf4j:slf4j-api:1.7.12'

  // JSON
  compile 'org.json:json:20140107'

  testCompile 'junit:junit:4.12'
}

task sourcesJar(type: Jar, dependsOn: classes) {
  classifier = 'sources'
  from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
  classifier = 'javadoc'
  from javadoc.destinationDir
}

jar {
  from sourceSets.main.allSource
}

artifacts {
  archives sourcesJar
  archives javadocJar
}

publishing {
  publications {
    MyPublication(MavenPublication) {
      from components.java
      groupId 'org.rabbit-converter'
      artifactId 'Rabbit'
      version project.version
    }
  }
}


bintray {
  user = System.getenv('BINTRAY_USER')
  key = System.getenv('BINTRAY_KEY')
  publications = ['MyPublication']
  dryRun = false
  publish = true
  pkg {
    repo = 'maven'
    name = 'rabbit'
    desc = 'Rabbit in Java'
    websiteUrl = 'https://github.com/Rabbit-Converter/Rabbit-Java'
    issueTrackerUrl = 'https://github.com/Rabbit-Converter/Rabbit/issues'
    vcsUrl = 'https://github.com/Rabbit-Converter/Rabbit-Java.git'
    licenses = ['MIT']
    labels = ['java', 'myanmar', 'font-converter', 'zawgyi', 'unicode']
    publicDownloadNumbers = true
    //Optional version descriptor
    version {
      name = project.version
      desc = 'optional, version-specific description'
      released = new Date()
      mavenCentralSync {
        sync = false
        //Optional (true by default). Determines whether to sync the version to Maven Central.
        user = 'userToken' //OSS user token
        password = 'paasword' //OSS user password
        close = '1'
        //Optional property. By default the staging repository is closed and artifacts are released to Maven Central. You can optionally turn this behaviour off (by puting 0 as value) and release the version manually.
      }
    }
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.4'
}
